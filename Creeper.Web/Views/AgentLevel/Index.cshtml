@{
    ViewBag.Title = "分利层级管理";
}

@section styles{
    <link href="~/public/plugins/jqGrid/ui.jqgrid.css" rel="stylesheet" />
    <link href="~/public/plugins/jqGrid/ui.jqgrid-bootstrap.css" rel="stylesheet" />
    <link href="~/public/plugins/jqGrid/ui.jqgrid-bootstrap-ui.css" rel="stylesheet" />
}
<section class="todo-content">
    <div class="panel-title pll">分利层级管理<small>分利层级信息</small></div>
</section>
<div class="col-md-12" ng-app="list" ng-controller="listCtrl">
    <div class="box box-info">
        <div class="box-body">
            <div class="col-sm-12">
                <div class="row">
                </div>
            </div>
            <div class="col-sm-12">
                <div class="row">
                    <div class="jqGrid_wrapper">
                        <table id="jqGridList"></table>
                        <div id="jqGridPager"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts{
    <script src="~/public/plugins/jqGrid/jquery.jqGrid.min.js"></script>
    <script src="~/public/plugins/jqGrid/grid.locale-cn.js"></script>
    <script>
        var jqGrid = $("#jqGridList");
        jqGrid.jqGrid({
            //caption: "分利层级管理",
            url: "/AgentLevel/List",
            mtype: "GET",
            styleUI: 'Bootstrap',//设置jqgrid的全局样式为bootstrap样式
            datatype: "json",
            colNames: ['产品ID', '产品名称', '代理级别', '代理名称', '获得直接用户分成比例', '获得下级分成比例', '获得下下级分成比例', '是否有效'],
            colModel: [
                { name: 'GameId', index: 'GameId', width: 60, key: true },
                { name: 'GameName', index: 'GameName', width: 60 },
                { name: 'AgentLevelId', index: 'AgentLevelId', width: 60 },
                { name: 'AgentLevelName', index: 'AgentLevelName', width: 60 },
                { name: 'DProportion', index: 'DProportion', width: 60 },
                { name: 'IProportion', index: 'IProportion', width: 60 },
                { name: 'IProportion2', index: 'IProportion2', width: 60 },
                {
                    name: 'IsValid', index: 'IsValid', width: 60,
                    formatter: function (cellValue, options, rowObject)
                    { return cellValue == 0 ? "否" : "是"; }
                },
            ],
            viewrecords: true,
            multiselect: true,
            rownumbers: true,
            autowidth: true,
            height: "100%",
            rowNum: 20,
            rownumbers: true, // 显示行号
            rownumWidth: 35, // the width of the row numbers columns
            pager: "#jqGridPager",//分页控件的id
            subGrid: false//是否启用子表格
        });

        // 设置jqgrid的宽度
        $(window).bind('resize', function () {
            var width = $('.jqGrid_wrapper').width();
            jqGrid.setGridWidth(width);
        });
    </script>
}
